---
import MenuOverlay from './MenuOverlay.astro'
---

<!-- Menu icon -->
<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' class='fill-current text-white cursor-pointer' id='menu-button'>
	<path d='M0 2v2h24V2Zm0 9v2h24v-2Zm0 9v2h24v-2Z'></path>
</svg>

<MenuOverlay />

<script>
	// Menu overlay logic
	const menuButton = document.querySelector('#menu-button')

	// Select menu overlay element
	const menuOverlay = document.getElementById('menu-overlay')

	document.addEventListener('DOMContentLoaded', () => {
		menuButton.addEventListener('click', function () {
			fadeIn(menuOverlay)
			document.body.classList.add('no-scroll')
		})

		menuOverlay.addEventListener('click', function () {
			fadeOut(menuOverlay)
			document.body.classList.remove('no-scroll')
		})
	})

	function fadeIn(element) {
		element.style.opacity = 1
		element.style.visibility = 'visible'
	}

	function fadeOut(element) {
		element.style.opacity = 0
		setTimeout(function () {
			element.style.visibility = 'hidden'
		}, 500) // This timing of 500ms should match the transition time (0.5s)
	}
</script>

<style>
	#menu-button {
		cursor: pointer;
		z-index: 9999;
	}
</style>
